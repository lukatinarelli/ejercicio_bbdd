<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Base de Datos</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Gestor de Base de Datos</h1>

    <!-- Menú de Opciones -->
    <div id="menu">
        <button onclick="showSection('crear-tabla')">Crear Tabla</button>
        <button onclick="showSection('mostrar-tablas')">Mostrar Tablas</button>
        <button onclick="showSection('eliminar-tabla')">Eliminar Tabla</button>
        <button onclick="showSection('insertar-datos')">Insertar Datos</button>
        <button onclick="showSection('consultar-datos')">Consultar Datos</button>
        <button onclick="showSection('modificar-datos')">Modificar Datos</button>
        <button onclick="showSection('eliminar-datos')">Eliminar Datos</button>
        <button onclick="showSection('consola-sql')">Consola SQL</button>
    </div>

    <!-- Secciones de Formularios, ocultas por defecto -->
    <section id="crear-tabla" class="form-section" style="display:none;">
        <h2>Crear Tabla</h2>
        <form id="form-crear-tabla" action="/create_table" method="post">
            <label for="table-name">Nombre de la Tabla:</label>
            <input type="text" id="table-name" name="table_name" required>
            <label for="columns">Definir Columnas (ej. nombre TEXT):</label>
            <input type="text" id="columns" name="columns" required>
            <button type="submit">Crear Tabla</button>
        </form>
    </section>



    <!-- Mostrar las tablas -->
    <section id="mostrar-tablas" class="form-section" style="display:none;">
        <h2>Tablas en la Base de Datos</h2>
        <table>
            <thead>
                <tr>
                    <th>Nombre de la Tabla</th>
                </tr>
            </thead>
            <tbody>
                {% if tablas %}
                    {% for tabla in tablas %}
                        <tr>
                            <td>{{ tabla[0] }}</td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td>No hay tablas disponibles.</td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </section>



    <section id="eliminar-tabla" class="form-section" style="display:none;">
        <h2>Eliminar Tabla</h2>
        <form id="form-eliminar-tabla" action="/delete_table" method="post">
            <label for="delete-table-name">Nombre de la Tabla:</label>
            <input type="text" id="delete-table-name" name="table_name" required>
            <button type="submit">Eliminar Tabla</button>
        </form>
    </section>









    <!-- Consultar información -->
    <section id="consultar-datos" class="form-section" style="display:none;">
        <h2>Consultar Información</h2>
        
        <label for="table_name">Selecciona la Tabla:</label>
        <select name="table_name" id="table_name_consultar">
            <option value="" disabled selected>Seleccione una tabla</option> <!-- Opción en blanco -->
            {% if tablas %}
                {% for tabla in tablas %}
                    <option value="{{ tabla[0] }}">{{ tabla[0] }}</option>
                {% endfor %}
            {% endif %}
        </select>
    
        </br></br>

        <div id="resultados">
            <!-- Aquí se mostrará la tabla con la información -->
        </div>
    </section>
    







    <!-- Insertar información -->
    <section id="insertar-datos" class="form-section" style="display:none;">
        <h2>Insertar Datos</h2>
        
        <label for="table_name">Selecciona la Tabla:</label>
        <select name="table_name" id="table_name_insertar">
            <option value="" disabled selected>Seleccione una tabla</option> <!-- Opción en blanco -->
            {% if tablas %}
                {% for tabla in tablas %}
                    <option value="{{ tabla[0] }}">{{ tabla[0] }}</option>
                {% endfor %}
            {% endif %}
        </select>

        </br></br>
    
        <div id="insertar">
            <!-- Aquí se insertará la información -->
        </div>
    </section>


    <script src="/static/script.js"></script>
</body>
</html>